main.py (точка входа и основная логика)
config.py (настройки моделей, тарифов, лимитов)
constants.py (константы для состояний и ключей)
database.py (взаимодействие с базой данных aiosqlite)
characters.py (загрузка стандартных персонажей)
utils.py (вспомогательные функции и декораторы)
handlers/
ai_selection_handler.py (логика меню выбора AI)
captcha_handler.py (система проверки "я не робот")
character_actions.py (действия с персонажами: создание, редактирование)
character_menus.py (генерация меню для персонажей)
characters_handler.py (единый обработчик для всех действий с персонажами)
profile_handler.py (отображение профиля пользователя)
ai_clients/
aiutils.py (вспомогательная функция для подготовки истории)
base_client.py (базовый класс для всех клиентов)
deepseek_client.py (клиент для DeepSeek)
gemini_client.py (клиент для Gemini)
gpt_client.py (клиент для GPT)
openrouter_client.py (клиент для OpenRouter)
factory.py (фабрика для создания нужного AI-клиента)